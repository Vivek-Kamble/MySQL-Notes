
use vivek


CREATE TABLE CUSTOMERS
(
CID DECIMAL(5,0) PRIMARY KEY,
FIRSTNAME VARCHAR(20),
LASTNAME VARCHAR(20),
DOB DATE
);

CREATE TABLE TRAIN 
(
TID DECIMAL(5,0) PRIMARY KEY,
TRAINNAME VARCHAR(20),
DOJ DATE,
FROMSTN VARCHAR2(20),
TOSTN VARCHAR2(20)
);

CREATE TABLE TICKET
(
TCID DECIMAL(5,0) PRIMARY KEY,
TID DECIMAL(5,0),
CID DECIMAL(5,0),
PRICE DECIMAL(7,2),
FOREIGN KEY (CID) REFERENCES CUSTOMERS(CID),
FOREIGN KEY (TID) REFERENCES TRAIN(TID)
);

INSERT INTO CUSTOMERS VALUES(1, 'Aditya', 'Mayaramka', '1999-06-05');
INSERT INTO CUSTOMERS VALUES(2, 'Suraj', 'Pawar', '1995-05-25');
INSERT INTO CUSTOMERS VALUES(3, 'Kamal', 'yadav', '1996-12-3');
INSERT INTO CUSTOMERS VALUES(4, 'Gaurav', 'Sharma', '1986-02-18');
INSERT INTO CUSTOMERS VALUES(5, 'Pooja','Kamble', '1990-09-09');
INSERT INTO CUSTOMERS VALUES(6, 'Vedika','Nimbalkar', '2005-09-03');

INSERT INTO TRAIN VALUES(1, 'Vapi Passenger', '2017-03-03', 'Bandra', 'Vapi');
INSERT INTO TRAIN VALUES(2, 'Deccan Express', '2017-04-09', 'CST', 'Nanded');
INSERT INTO TRAIN VALUES(3, 'Gujrat Express', '2017-07-08', 'Borivali', 'Ahmedabad');
INSERT INTO TRAIN VALUES(4, 'Intercity Express', '2017-06-10', 'CST', 'Goa');
INSERT INTO TRAIN VALUES(5, 'Karnavati Express', '2017-12-11', 'Bandra', 'Gandhidham');
INSERT INTO TRAIN VALUES(6, 'A. K. Rajdhani Exp.', '2017-01-16', 'Mumbai Central', 'H. Nizamuddin');

INSERT INTO TICKET VALUES(1, 2, 2, 2500);
INSERT INTO TICKET VALUES(2, 3, 1, 1500);
INSERT INTO TICKET VALUES(3, 1, 3, 1000);
INSERT INTO TICKET VALUES(4, 1, 5, 3000);
INSERT INTO TICKET VALUES(5, 2, 2, 4500);
INSERT INTO TICKET VALUES(6, 4, 5, 2500);


/*write the names of customers, the train, and ticket price*/
select CUSTOMERS.FIRSTNAME,TICKET.PRICE,TRAIN.TRAINNAME
FROM CUSTOMERS INNER JOIN TICKET
ON CUSTOMERS.CID=TICKET.CID
INNER JOIN TRAIN
ON TICKET.TID=TRAIN.TID

*TOTAL AMOUNT SPENT BY EACH CUSTOMER
select CUSTOMERS.FIRSTNAME,SUM(TICKET.PRICE)
FROM CUSTOMERS INNER JOIN TICKET
ON CUSTOMERS.CID=TICKET.CID
GROUP BY CUSTOMERS.FIRSTNAME

*HOW MANY PASSENGERS ARE THERE IN EACH TRAIN
select TRAIN.TRAINNAME,COUNT(TRAIN.TRAINNAME)
FROM TRAIN INNER JOIN TICKET
ON TICKET.TID=TRAIN.TID
GROUP BY TRAIN.TRAINNAME

